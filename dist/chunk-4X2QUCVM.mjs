import {gsap}from'gsap';import {Transition}from'@headlessui/react';import {motion}from'framer-motion';import A,{createContext,useState,useRef,useCallback,useEffect,useContext}from'react';function c(){return typeof window>"u"||typeof document>"u"}function H(t,e){return c()?e:t(window)}function B(t){return c()?null:window.requestAnimationFrame(t)}var O=new Map,w=new WeakMap;function E(t){if(c())return {observer:null,observe:()=>{},unobserve:()=>{},disconnect:()=>{}};let{threshold:e=0,rootMargin:i="0px",root:n=null,callback:f}=t,s=`${e}-${i}-${n?.id||"null"}`;if(O.has(s)){let o=O.get(s),a=w.get(o.observer)||new Set;return a.add(f),w.set(o.observer,a),o}let S=new Set;S.add(f);let l=new IntersectionObserver((o,a)=>{let v=w.get(a);v&&v.forEach(y=>y(o,a));},{threshold:e,rootMargin:i,root:n});w.set(l,S);let b={observer:l,observe:o=>{l.observe(o);},unobserve:o=>{l.unobserve(o);},disconnect:()=>{l.disconnect(),O.delete(s),w.delete(l);}};return O.set(s,b),b}var T=class{constructor(e){this.queue=[];this.rafId=null;this.observer=E(e);}observe(e){this.queue.push({action:"observe",element:e}),this.scheduleFlush();}unobserve(e){this.queue.push({action:"unobserve",element:e}),this.scheduleFlush();}disconnect(){this.rafId!==null&&cancelAnimationFrame(this.rafId),this.observer.disconnect();}scheduleFlush(){this.rafId!==null||c()||(this.rafId=requestAnimationFrame(()=>{this.flush(),this.rafId=null;}));}flush(){let e=[...this.queue];this.queue=[],e.forEach(({action:i,element:n})=>{i==="observe"?this.observer.observe(n):this.observer.unobserve(n);});}};function k({ref:t,threshold:e=.1,rootMargin:i="0px",once:n=true,disabled:f=false,root:s=null}){let[S,l]=useState(false),[b,o]=useState(false),a=useRef(null),v=useRef(true),y=useCallback(()=>{l(true),n&&o(true);},[n]),R=useCallback(()=>{(!n||!b)&&l(false);},[n,b]),x=useCallback(()=>{l(false),o(false);},[]);return useEffect(()=>{if(c()||f||!t.current)return;let u=t.current;if(a.current=E({threshold:e,rootMargin:i,root:s,callback:m=>{m.forEach(p=>{if(p.target===u){let r=p.isIntersecting;l(r),r&&n&&(o(true),a.current?.disconnect());}});}}),a.current.observe(u),v.current){v.current=false;let m=u.getBoundingClientRect(),p=window.innerHeight||document.documentElement.clientHeight;m.top<p&&m.bottom>0&&(l(true),n&&o(true));}return ()=>{a.current&&u&&(a.current.unobserve(u),a.current.disconnect());}},[t,e,i,n,f,s]),{isInView:S,hasAnimated:b,reveal:y,hide:R,reset:x}}function J(){let t=useCallback(n=>{if(c())return;document.querySelectorAll(n).forEach(s=>{s.dispatchEvent(new CustomEvent("scroll-reveal:reveal"));});},[]),e=useCallback(n=>{if(c())return;document.querySelectorAll(n).forEach(s=>{s.dispatchEvent(new CustomEvent("scroll-reveal:hide"));});},[]),i=useCallback(n=>{if(c())return;document.querySelectorAll(n).forEach(s=>{s.dispatchEvent(new CustomEvent("scroll-reveal:reset"));});},[]);return {revealAll:t,hideAll:e,resetAll:i}}var F={fade:{initial:{opacity:0},animate:{opacity:1}},fadeUp:{initial:{opacity:0,y:30},animate:{opacity:1,y:0}},fadeDown:{initial:{opacity:0,y:-30},animate:{opacity:1,y:0}},fadeLeft:{initial:{opacity:0,x:30},animate:{opacity:1,x:0}},fadeRight:{initial:{opacity:0,x:-30},animate:{opacity:1,x:0}},slideUp:{initial:{y:100,opacity:0},animate:{y:0,opacity:1}},slideDown:{initial:{y:-100,opacity:0},animate:{y:0,opacity:1}},slideLeft:{initial:{x:100,opacity:0},animate:{x:0,opacity:1}},slideRight:{initial:{x:-100,opacity:0},animate:{x:0,opacity:1}},zoom:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1}},zoomIn:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1}},zoomOut:{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1}},rotate:{initial:{rotate:180,opacity:0},animate:{rotate:0,opacity:1}},rotateLeft:{initial:{rotate:-90,opacity:0,scale:.9},animate:{rotate:0,opacity:1,scale:1}},rotateRight:{initial:{rotate:90,opacity:0,scale:.9},animate:{rotate:0,opacity:1,scale:1}},flip:{initial:{rotateY:90,opacity:0},animate:{rotateY:0,opacity:1}},flipX:{initial:{rotateX:90,opacity:0},animate:{rotateX:0,opacity:1}},flipY:{initial:{rotateY:90,opacity:0},animate:{rotateY:0,opacity:1}},blur:{initial:{filter:"blur(10px)",opacity:0},animate:{filter:"blur(0px)",opacity:1}},bounce:{initial:{y:-30,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:20}}}};function K(t){return {...t,name:"custom",description:"Custom animation configuration"}}function Q(...t){return t.reduce((e,i)=>({initial:{...e.initial,...i.initial},animate:{...e.animate,...i.animate}}),{initial:{},animate:{}})}var N=createContext(null),ee=({children:t,config:e={}})=>{let i=A.useMemo(()=>typeof window>"u"?false:window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),n=A.useMemo(()=>e.respectReducedMotion&&i?{...e,disabled:true}:e,[e,i]);return A.createElement(N.Provider,{value:n},t)};function M(){return useContext(N)}function te(){let t=M();return typeof window>"u"||t?.disabled?true:t?.respectReducedMotion?window.matchMedia("(prefers-reduced-motion: reduce)").matches:false}var L=({children:t,animationType:e="fade",customAnimation:i,delay:n=0,duration:f=600,once:s=true,threshold:S=.1,rootMargin:l="0px",disabled:b=false,engine:o="framer",className:a,style:v,onReveal:y,onHide:R,...x})=>{let u=useRef(null),m=useRef(null),p=M(),r={animationType:e??p?.animationType??"fade",delay:n??p?.delay??0,duration:f??p?.duration??600,once:s??p?.once??true,threshold:S??p?.threshold??.1,rootMargin:l??p?.rootMargin??"0px",engine:o??p?.engine??"framer"},{isInView:C,hasAnimated:$}=k({ref:u,threshold:r.threshold,rootMargin:r.rootMargin,once:r.once,disabled:b||c()}),d=i||F[r.animationType];if(!d)throw new Error(`Invalid animation type: ${r.animationType}`);useEffect(()=>{if(r.engine!=="gsap"||!u.current||c())return;let h=u.current;return C&&!$?(m.current&&m.current.kill(),gsap.set(h,d.initial),m.current=gsap.to(h,{...d.animate,duration:r.duration/1e3,delay:r.delay/1e3,ease:"power2.out",onComplete:()=>{y?.();}})):!C&&!r.once&&(m.current&&m.current.kill(),gsap.set(h,d.initial),R?.()),()=>{m.current&&m.current.kill();}},[C,$,d,r,y,R]);let P=A.Children.only(t);if(r.engine==="framer"){let h={hidden:d.initial,visible:{...d.animate,transition:{duration:r.duration/1e3,delay:r.delay/1e3,ease:"easeOut"}}};return A.createElement(motion.div,{ref:u,initial:"hidden",animate:C?"visible":"hidden",variants:h,className:a,style:v,onAnimationComplete:I=>{I==="visible"?y?.():R?.();},...x},P)}if(r.engine==="headless"){let h={enter:{transition:`all ${r.duration}ms ease-out ${r.delay}ms`},enterFrom:d.initial,enterTo:d.animate,leave:{transition:`all ${r.duration}ms ease-in`},leaveFrom:d.animate,leaveTo:d.initial};return A.createElement("div",{ref:u,className:a,style:v,...x},A.createElement(Transition,{show:C,appear:true,...Object.entries(h).reduce((I,[Y,W])=>({...I,[Y]:Object.entries(W).map(([z,X])=>`${z}: ${X}`).join("; ")}),{}),afterEnter:y,afterLeave:R},P))}return A.createElement("div",{ref:u,className:a,style:v,...x},P)};L.displayName="ScrollReveal";var Ie="1.0.0";export{c as a,H as b,B as c,E as d,T as e,k as f,J as g,F as h,K as i,Q as j,ee as k,M as l,te as m,L as n,Ie as o};//# sourceMappingURL=chunk-4X2QUCVM.mjs.map
//# sourceMappingURL=chunk-4X2QUCVM.mjs.map